!function(o){"use strict";window.jnews.zoom=window.jnews.zoom||{},window.jnews.zoom={init:function(){this.container=o("body"),this.zoomContainer=this.container.find(".jeg_meta_zoom"),this.zoomOut=this.zoomContainer.find(".zoom-out"),this.zoomReset=this.zoomContainer.find(".zoom-reset"),this.zoomIn=this.zoomContainer.find(".zoom-in"),this.zoomInStep=this.zoomContainer.attr("data-in-step"),this.zoomOutStep=10-this.zoomContainer.attr("data-out-step"),this.zoomLevel=1,this.zoomEvent()},setSizeContent:function(o){var t=o,n=null===this.container.find(".jeg_inner_content").width()?this.container.find(".jeg_custom_content_wrapper").width():this.container.find(".jeg_inner_content").width(),i=this.container.find(".content-inner"),e=parseInt(i.css("marginLeft").replace("px","")),s=parseInt(i.css("marginRight").replace("px","")),m=i[0].getBoundingClientRect().height,r=m-m/t,a=this.container.find(".with-share .content-inner").length?e+s:0,h=t>=1?n/t-a:n/t-2*a;i.css({width:h,marginBottom:r+30})},resetZoom:function(){this.zoomLevel=1,this.setSizeContent(this.zoomLevel),this.container.find(".content-inner").css({"-ms-zoom":"","-ms-transform":"","-ms-transform-origin":"","-moz-transform":"","-moz-transform-origin":"","-o-transform":"","-o-transform-origin":"","-webkit-transform":"","-webkit-transform-origin":"",overflow:"",width:"",marginBottom:""})},updateZoom:function(o){this.zoomLevel+=o,this.zoomLevel=this.zoomLevel>1+this.zoomInStep/10?1+this.zoomInStep/10:this.zoomLevel,this.zoomLevel=this.zoomLevel<this.zoomOutStep/10?this.zoomOutStep/10:this.zoomLevel,this.container.find(".content-inner").css({"-ms-zoom":this.zoomLevel,"-ms-transform":"scale("+this.zoomLevel+")","-ms-transform-origin":"0 0","-moz-transform":"scale("+this.zoomLevel+")","-moz-transform-origin":"0 0","-o-transform":"scale("+this.zoomLevel+")","-o-transform-origin":"0 0","-webkit-transform":"scale("+this.zoomLevel+")","-webkit-transform-origin":"0 0",overflow:"hidden"}),this.setSizeContent(this.zoomLevel)},zoomEvent:function(){var o=this;o.zoomOut.on("click",(function(){o.updateZoom(-.1)})),o.zoomIn.on("click",(function(){o.updateZoom(.1)})),o.zoomReset.on("click",(function(){o.resetZoom()}))}},o(document).bind("jnews-ajax-load",(function(o,t){jnews.zoom.init()})),o(document).ready((function(){jnews.zoom.init()}))}(jQuery);